<app-header-and-menu></app-header-and-menu>

<div class="container card">
  <h2 class="card-header text-center">Dodaj novi događaj</h2>
    <form (ngSubmit)="addEventOffer()" #eventForm="ngForm" class="row">

      <!-- Naziv događaja -->
      <div class="col-6 mx-auto mb-3">
        <label for="name" class="form-label">Naziv događaja</label>
        <input type="text" id="name" name="name" class="form-control"
               [(ngModel)]="eventOffer.name" required>
      </div>

      <!-- Kratak opis -->
      <div class="col-6 mx-auto mb-3">
        <label for="shortDescription" class="form-label">Kratak opis</label>
        <input type="text" id="shortDescription" name="shortDescription" class="form-control"
               [(ngModel)]="eventOffer.shortDescription" required>
      </div>

      <!-- Detaljan opis -->
      <div class="col-6 mx-auto mb-3">
        <label for="description" class="form-label">Detaljan opis</label>
        <textarea id="description" name="description" class="form-control"
                  [(ngModel)]="eventOffer.description"></textarea>
      </div>

      <!-- Cena -->
      <div class="col-6 mx-auto mb-3">
        <label for="price" class="form-label">Cena (€)</label>
        <input type="number" id="price" name="price" class="form-control"
               [(ngModel)]="eventOffer.price" required min="0">
      </div>

      <!-- Slika -->
      <div class="col-6 mx-auto mb-3">
        <label for="photo" class="form-label">Slika</label>
        <input type="file" id="photo" (change)="onFileSelected($event)" class="form-control" accept="image/*">
        <div *ngIf="selectedFileBase64" class="mt-2 text-center">
          <img [src]="selectedFileBase64" alt="Preview" class="img-fluid" style="max-width:200px;">
        </div>
      </div>

      <!-- Dugme -->
      <div class="col-6 mx-auto mb-3 d-flex justify-content-center">
        <button type="submit" class="btn btn-primary w-50" [disabled]="eventForm.invalid">Dodaj događaj</button>
      </div>

      <!-- Greška -->
      <div class="col-6 mx-auto">
        <p *ngIf="errorMsg" class="text-danger mt-2">{{ errorMsg }}</p>
      </div>

    </form>
</div>
